{"version":3,"sources":["common/Widget/Footer.js","page/Login/Forgetpwd.js","page/Login/index.js"],"names":["Footer","id","className","i18next","t","Forgetpwd","withTranslation","observer","props","next0","val","trim","textRef","current","value","reg","name","test","message","loading","content","key","duration","wsget","then","data","success","question","pwd_question","idx","answerRef","focus","catch","error","next1","answer","res","state","confirm","pwd1","newpwdtRef","pwd2","confirmpwdRef","pwd","close","black1","black2","React","createRef","this","onClick","type","htmlFor","autoFocus","ref","placeholder","style","visibility","placement","overlayClassName","trigger","title","Component","observable","Login","inject","handleSubmit","userRef","pwdRef","setState","disabl","login","login_in","session","set","token","setCookie","get","storage","location","path","from","history","push","OS","os","isAndroid","isPhone","getos","isTablet","isPc","keyhandleSubmit","event","preventDefault","keyCode","nextinput","goRegister","pro_visible","user_id","for_visible","remove","removeCookie","clearData","photoalbum","rahmen","playlist","Secondhead","buyBtn","spellCheck","maxLength","onKeyUp","opacity","disabled","Perfectinformation"],"mappings":"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","file":"static/js/19.27e7f45a.chunk.js","sourcesContent":["import React from 'react';\nimport i18next from 'i18next';\nimport './style.scss';\n\nfunction Footer() {\n  return (\n    <div id=\"Footer\">\n      <p className='foot-copyright'>{i18next.t('copyright')}</p>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport { observer } from 'mobx-react';\nimport { withTranslation } from 'react-i18next';\nimport './login.scss';\nimport { Icon, message, Tooltip } from 'antd';\nimport { observable } from 'mobx';\nimport { wsget } from '../../ws';\nimport { trim, reg } from '../../util/util';\n\nconst key = 'forgetpwd';\n\n@withTranslation() @observer\nclass Forgetpwd extends Component {\n  constructor(props) {\n    super(props);\n    this.textRef = React.createRef();\n    this.answerRef = React.createRef();\n    this.newpwdtRef = React.createRef();\n    this.confirmpwdRef = React.createRef();\n    this.t = this.props.t;\n  }\n\n  @observable idx = 0;\n  @observable name = '';\n  @observable question = '';\n  @observable answer = '';\n\n  componentDidMount() {\n    // this.textRef.current.focus();\n  }\n\n\n  next0 = () => {\n    const val = trim(this.textRef.current.value)\n    if (!val) {\n      message.error(this.t('enterName/mailbox'));\n      return;\n    }\n    if(!reg.name.test(val)){\n      message.error(this.t('isCorrect'));\n      return;\n    }\n    message.loading({ content: this.t('Calibration'), key, duration: 0 });\n    wsget('user_back_password', val).then((data) => {\n      message.success({ content: this.t('enterAnswer'), key, duration: 2 });\n      this.name = data.name;\n      this.question = data.pwd_question;\n      this.idx = 1;\n      this.answerRef.current.focus();\n    }).catch(() => {\n      message.error(this.t('isCorrect'));\n    })\n  }\n\n  next1 = () => {\n    const val = trim(this.answerRef.current.value)\n    if (!val) {\n      message.error(this.t('enterAnswer'));\n      return;\n    }\n    message.loading({ content: this.t('Calibration'), key, duration: 0 });\n    wsget('user_password_answer', { name: this.name, answer: val }).then((data) => {\n      message.success({ content: this.t('setnewPwd'), key, duration: 2 });\n      this.answer = val;\n      this.idx = 2;\n    }).catch((res) => {\n      if (res.state === 2) {\n        message.error(this.t('WrongAnswer'));\n      }\n    })\n  }\n\n  confirm = () => {\n    const pwd1 = this.newpwdtRef.current.value\n    const pwd2 = this.confirmpwdRef.current.value\n    if (!reg.pwd.test(pwd1)) {\n      message.error(this.t('pwdFormat'));\n      return;\n    }\n    if (!pwd1 && !pwd2) {\n      message.error(this.t('setnewPwd'));\n      return;\n    }\n    if (pwd1 !== pwd2) {\n      message.error(this.t('twoPwds'));\n      return;\n    }\n    const data = {\n      name: this.name,\n      answer: this.answer,\n      pwd: pwd2\n    }\n    wsget('user_new_password', data, 1).then((res) => {\n      this.props.close();\n    })\n  }\n\n  black1 = () => {\n    this.idx = 0;\n  }\n\n  black2 = () => {\n    this.idx = 1;\n  }\n\n  render() {\n    console.log('render')\n    const { t } = this.props;\n    const { idx } = this;\n    const El = () => {\n      switch (idx) {\n        case 0:\n          return (\n            <div className='details'>\n              <p className='forgetpwd_item'>\n                <label className='forgetpwd_label' htmlFor='name'>{t('name/mailbox')}</label>\n                <input\n                  id='name'\n                  className='forgetpwd_input'\n                  type='text'\n                  autoFocus='autoFocus'\n                  ref={this.textRef}\n                  placeholder={t('enterName/mailbox')} />\n              </p>\n              <span className='black' style={{ visibility: 'hidden' }}>{t('PreviousStep')}</span>\n              <span className='next' onClick={this.next0}>{t('NextStep')}</span>\n            </div>\n          )\n\n        case 1:\n          return (\n            <div className='details'>\n              <div className='user-name'>\n                <p className='title'>{t('UserName')}</p>\n                <p className='txt'>{this.name}</p>\n              </div>\n              <div className='user-question'>\n                <p className='title'>{t('Problem')}</p>\n                <p className='txt'>{this.question}</p>\n              </div>\n              <p className='forgetpwd_item'>\n                <label className='forgetpwd_label' htmlFor='answer'>{t('Answer')}</label>\n                <input\n                  id='answer'\n                  className='forgetpwd_input'\n                  type='text'\n                  autoFocus='autoFocus'\n                  ref={this.answerRef}\n                  placeholder={t('enterAnswer')} />\n              </p>\n              <span className='black' onClick={this.black1}>{t('PreviousStep')}</span>\n              <span className='next' onClick={this.next1}>{t('NextStep')}</span>\n            </div>\n          )\n\n        case 2:\n          return (\n            <div className='details'>\n              <p className='forgetpwd_item'>\n                <label className='forgetpwd_label' htmlFor='new-pwd'>{t('NewPwd')}</label>\n                <Tooltip\n                  placement=\"topLeft\"\n                  overlayClassName='tooltip'\n                  trigger='focus'\n                  title={t('pwdreg')}>\n                  <input\n                    id='new-pwd'\n                    className='forgetpwd_input'\n                    type='password'\n                    ref={this.newpwdtRef}\n                    placeholder={t('enterNewpwd')} />\n                </Tooltip>\n              </p>\n              <p className='forgetpwd_item'>\n                <label className='forgetpwd_label' htmlFor='confirm-pwd'>{t('ConfirmPwd')}</label>\n                <input\n                  id='confirm-pwd'\n                  className='forgetpwd_input'\n                  type='password'\n                  ref={this.confirmpwdRef}\n                  placeholder={t('enterPwdAgain')} />\n              </p>\n              <span className='black' onClick={this.black2}>{t('PreviousStep')}</span>\n              <span className='next' onClick={this.confirm}>{t('Determine')}</span>\n            </div>\n          )\n\n        default:\n          break;\n      }\n    };\n\n\n    return (\n      <div className='forgetpwd-model'>\n        <div className='forgetpwd-inner'>\n          <div className='forgetpwd-content'>\n            <div className='forgetpwd-bd'>\n              <span className='close-icon' onClick={this.props.close}>\n                <Icon type='close' />\n              </span>\n              <div className='forgetpwd-head'>\n                <span>{t('ResetPwd')}</span>\n              </div>\n              <El />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Forgetpwd;","import React, { Component } from \"react\";\nimport { message } from \"antd\";\nimport { withTranslation } from \"react-i18next\";\nimport { inject, observer } from \"mobx-react\";\nimport { session, storage, setCookie, reg, trim, os, removeCookie } from \"../../util/util\";\nimport Footer from \"../../common/Widget/Footer\";\nimport \"./login.scss\";\nimport Perfectinformation from \"../../components/Perfectinformation\";\nimport Forgetpwd from \"./Forgetpwd\";\nimport Secondhead from \"../../common/Secondhead\";\n// import { wsget } from '../../ws';\n\n// 1215456\n@withTranslation()\n@inject(\"login\", \"playlist\", \"rahmen\", \"photoalbum\")\n@observer\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.userRef = React.createRef();\n    this.pwdRef = React.createRef();\n    this.t = this.props.t;\n    this.state = {\n      disabl: false,\n      pro_visible: false,\n      user_id: null,\n      name: null,\n      pwd: null,\n      for_visible: false,\n    };\n  }\n\n  componentDidMount() {\n    storage.remove(\"user\");\n    storage.remove(\"Z_H_U_DATA\");\n    session.remove(\"token\");\n    removeCookie(\"cookie\");\n    this.props.login.clearData();\n    this.props.photoalbum.clearData();\n    this.props.rahmen.clearData();\n    this.props.playlist.clearData();\n  }\n\n  handleSubmit = () => {\n    const key = \"login\";\n    let name = trim(this.userRef.current.value);\n    let pwd = trim(this.pwdRef.current.value);\n    if (name === \"\" || pwd === \"\") {\n      message.error(this.t(\"AccountPwdEmpty\"));\n      return;\n    }\n    if (!reg.pwd.test(pwd)) {\n      message.error({ content: this.t(\"LoginFailed\"), key, duration: 3 });\n      return;\n    }\n    message.loading({ content: this.t(\"loading\"), key, duration: 0 });\n    this.setState({ disabl: true });\n    const data = {\n      name,\n      pwd,\n    };\n\n    this.props.login.login_in(data, (res) => {\n      if (res) {\n        session.set(\"token\", res.token);\n        setCookie(\"cookie\", session.get(\"token\"), 0);\n        storage.set(\"user\", { ...res, ...data });\n        storage.set(\"Z_H_U_DATA\", res);\n        this.setState({ disabl: false });\n        message.success({ content: this.t(\"LoginSucceed\"), key, duration: 2 });\n        if (this.props.location.state) {\n          const path = this.props.location.state.from;\n          this.props.history.push(path);\n        } else {\n          this.props.history.push(\"/\");\n        }\n      } else {\n        console.log(\"object\");\n        this.setState({ disabl: false });\n        message.error({ content: this.t(\"LoginFailed\"), key, duration: 3 });\n      }\n    });\n\n    const OS = os();\n\n    if (OS.isAndroid || OS.isPhone) {\n      // 手机\n      this.props.login.getos(\"phone\");\n    } else if (OS.isTablet) {\n      // 平板\n      this.props.login.getos(\"tab\");\n    } else if (OS.isPc) {\n      // pc\n      this.props.login.getos(\"pc\");\n    }\n  };\n\n  keyhandleSubmit = (event) => {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.handleSubmit();\n    }\n  };\n\n  nextinput = (event) => {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.pwdRef.current.focus();\n    }\n  };\n\n  goRegister = () => {\n    this.props.history.push(\"/register\");\n  };\n\n  render() {\n    const { t } = this.props;\n    const { disabl, pro_visible, user_id, name, pwd, for_visible } = this.state;\n\n    return (\n      <div className=\"container\">\n        <Secondhead\n          title={t('Signsmartframe')}\n          buyBtn={t('Buyingphotoframes')} />\n        <div className='login-mod'>\n          <div className='login-container'>\n            <div className='login-box'>\n              <div className='login-inner'>\n                <div className='login-inner-head'>\n                  <h2>{t('login')}</h2>\n                </div>\n                <div className=\"login-content\">\n                  <p className=\"login-item-name\">\n                    <input\n                      spellCheck={false}\n                      type=\"text\"\n                      maxLength={24}\n                      placeholder={t(\"name/mailbox\")}\n                      ref={this.userRef}\n                      onKeyUp={this.nextinput}\n                    />\n                  </p>\n                  <p className=\"login-item-pwd\">\n                    <input\n                      type=\"password\"\n                      placeholder={t(\"Password\")}\n                      maxLength={32}\n                      ref={this.pwdRef}\n                      onKeyUp={this.keyhandleSubmit}\n                    />\n                  </p>\n                  <p className=\"login-forgetpwd\">\n                    <span\n                      className=\"forget-password\"\n                      onClick={() => {\n                        this.setState({ for_visible: true });\n                      }}\n                    >\n                      {t(\"ForgetPwd\")}\n                    </span>\n                  </p>\n                  <p className=\"login-item-loginbtn\">\n                    <button\n                      onClick={this.handleSubmit}\n                      style={disabl ? { opacity: \"0.5\" } : {}}\n                      disabled={disabl ? true : false}\n                    >\n                      {t(\"login\")}\n                    </button>\n                  </p>\n                  <p className=\"login-item-regbtn\">\n                    <button onClick={this.goRegister}>{t(\"Registered\")}</button>\n                  </p>\n                </div>\n              </div>\n              <Footer />\n            </div>\n\n            <div className=\"l-top\"></div>\n            <div className=\"l-middle\"></div>\n            <div className=\"l-bottom\"></div>\n          </div>\n        </div>\n\n        {pro_visible && (\n          <Perfectinformation user_id={user_id} name={name} pwd={pwd} />\n        )}\n\n        {for_visible && (\n          <Forgetpwd\n            close={() => {\n              this.setState({ for_visible: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"sourceRoot":""}