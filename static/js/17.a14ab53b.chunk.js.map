{"version":3,"sources":["common/Lazy-image/index.js","images/imgload.gif","common/Thumbnail/index.js","components/Playlistdetails/Albumlist.js","components/Playlistdetails/Albumdetails.js","components/Playlistdetails/Cloudalbum.js","components/Playlistdetails/Chooseframe.js","components/Playlistdetails/Toframes.js","components/Playlistdetails/index.js"],"names":["document","lazyLoadInstance","LazyLoad","elements_selector","callback_error","el","parentNode","style","background","error","backgroundSize","LazyImage","update","this","props","src","w","className","data-src","width","alt","React","Component","module","exports","Thumbnail","inject","observer","errorImg","e","target","imgRef","createRef","columnIndex","item","data","rowIndex","playdetail","columnCount","url","getFile","file_s","id","current","next","checkclick","b_img_show","OS","login","ps","visible","get","title","cpt","overlayClassName","ref","onClick","visibility","ext","test","PureComponent","Albumlist","withTranslation","albumAdd","getAlbum","t","list","getDetail","length","map","key","name","profile","backgroundImage","imgload","imgload2","updated","dayjs","format","created","filecount","Nodata","Loading","Albumdetails","getWH","flag","wi","hi","offsetWidth","h","offsetHeight","Width","Math","floor","childW","childH","getH","detailList","rowCount","getData","window","addEventListener","removeEventListener","partlist","goback","SelectImgs","checkAll","invert","fileNum","forEach","true","Goblack","go","height","itemData","columnWidth","rowHeight","Cloudalbum","handleOk","handleCancel","onOk","ftbtn","detail","onCancel","bodyStyle","padding","position","getContainer","destroyOnClose","footer","type","Chooseframe","framelist","click","checkAllfn","framelists","okText","cancelText","node","playlist_id","strRep","serial","Toframes","framePlay","initload","placement","theme","Playlistdetails","detail_list","detail_list_2","checkidxArr","myresize","resize","resize2","frameList","frameRef","history","push","initialData","info_show","infoObj","icon","txt","filenum","frameListNum","info_visible","uploading","reset","uploadFiles","upFile","goblack","chooseframe","frames_visible","getframes","frameonPlay","frames","message","warning","i18next","wsget","framesno","cloudAlbumUpload","albumvisible","albumCancel","onchange","getFrames","myresize2","renameRef","match","params","playlist","urlData","playArr","pos","findIndex","Number","wsinit","event","on","res","init","rmName","rm","clearData","oncheckAll","removeFileids","remove_img","bImg_visible","closeDialog","imgfile","onPiece","nextPage","addCpt","checkFrames","albumOk","moveTop","moveLast","num","menu","Item","Upinput","onupload","overlay","trigger","size","fontSize","display","blur","Information","handlecancel","observable"],"mappings":"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","file":"static/js/17.a14ab53b.chunk.js","sourcesContent":["import React from \"react\";\nimport LazyLoad from \"vanilla-lazyload\";\nimport error from '../../images/imgerror.png';\n\n// Only initialize it one time for the entire application\nif (!document.lazyLoadInstance) {\n  document.lazyLoadInstance = new LazyLoad({\n    elements_selector: \".lazy\",\n    callback_error: (el) => {\n      el.parentNode.style.background = `#fff url('${error}') center no-repeat`;\n      el.parentNode.style.backgroundSize = `80%`;\n    }\n  });\n}\n\nexport class LazyImage extends React.Component {\n\n  // Update lazyLoad after first rendering of every image\n  componentDidMount() {\n    document.lazyLoadInstance.update();\n  }\n\n  // Update lazyLoad after rerendering of every image\n  componentDidUpdate() {\n    // document.lazyLoadInstance.update();\n  }\n\n  // Just render the image with data-src\n  render() {\n    const { src, w } = this.props;\n    return (\n      <img\n        className=\"lazy\"\n        data-src={src}\n        width={w}\n        alt=''\n      />\n    );\n  }\n}\n\nexport default LazyImage;","module.exports = \"data:image/gif;base64,R0lGODlhEAAQAMQQAObm5uLi4unp6dHR0cnJydfX1+jo6O/v7/Dw8NPT0/39/crKyvr6+uDg4MfHx////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAQACwAAAAAEAAQAAAFXeAjPkiTjGgaLI6Tvs9BtPAIMPH8KgK5DDhZSlFYlFrAGIrYMrUcyRGzdapZr6jE02FAyZ6JxrOrEAVnjgaCRS6IkjLjo9F2PaDBwLJAu+NfAix2LQsAMCVVYQgoIQAh+QQFAAAQACwJAAAABwAHAAAFFGDSIE/5OM7SmKhjsK55vjIt32UIACH5BAUAABAALAoAAwAGAAoAAAUaICQqgggpxYKcheM0qOskZm0/eA7luMibvRAAIfkEBQAAEAAsCQAJAAcABwAABRXgcxBOmTwi6TRouiAoIwbtI9d4/oQAIfkEBQAAEAAsAwAKAAoABgAABRsgJI7MKD6POJQnKjpD60IODKFzvQD3nDQISAgAIfkEBQAAEAAsAAAJAAcABwAABRPgI45kSSrFWTgj6rCisLwk0iQhACH5BAUAABAALAAAAwAHAAoAAAUcIPRAJPmco4mm61m+cJk4tGNATX0ryGK/jVspBAAh+QQFAAAQACwAAAAABwAHAAAFFOAjjmRpPgBDIsugio3juGIiz2oIADs=\"","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { get } from 'mobx';\nimport { getFile } from '../../util/util';\nimport error from '../../images/imgerror.png'\nimport './style.scss'\nimport { Tooltip } from 'antd';\n\n@inject('playdetail', \"login\") @observer\nclass Thumbnail extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.imgRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { columnIndex, data, rowIndex } = this.props;\n    const item = data[rowIndex * this.props.playdetail.columnCount + columnIndex];\n    if (item) {\n      let url = getFile.file_s(item.id);\n      if (this.imgRef.current) this.imgRef.current.style.background = `#d3d3d3 url(${url}) center center no-repeat`;\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(next) {\n    const { columnIndex, data, rowIndex } = next;\n    const item = data[rowIndex * this.props.playdetail.columnCount + columnIndex];\n    if (item) {\n      let url = getFile.file_s(item.id);\n      if (this.imgRef.current) this.imgRef.current.style.background = `#d3d3d3 url(${url}) center center no-repeat`;\n    }\n  }\n\n\n  errorImg = (e) => {\n    const el = e.target;\n    el.src = error;\n  }\n\n\n  render() {\n    const { columnIndex, data, rowIndex, style } = this.props;\n    const {\n      columnCount,\n      checkclick,\n      b_img_show\n    } = this.props.playdetail;\n    const { OS } = this.props.login;\n    const ps = OS === 'tab' ? { visible: false } : {};\n    const item = data[rowIndex * columnCount + columnIndex];\n    try {\n      if (get(item, 'true')) {\n        return <div style={style}></div>\n      } else {\n\n        // if (style) style.backgroundImage = `url(${url})`;\n        // if (this.imgRef) this.imgRef.current.style.backgroundImage = `url(${url})`;\n\n        return (\n          <Tooltip title={item.cpt} overlayClassName='tooltip' {...ps}>\n            <div\n              className={`thumbnail ${get(item, 'check') ? 'selected' : ''}`}\n              style={style}\n              ref={this.imgRef}\n              onClick={() => { b_img_show(rowIndex * columnCount + columnIndex, item.id) }}>\n              <i style={OS === 'tab' ? { visibility: 'inherit' } : {}}\n                className={`iconfont checkIcon treeNodeUnselectable ${get(item, 'check') ? 'icon-xuanzhong1' : 'icon-weixuanzhong'}`}\n                onClick={(e) => { checkclick(e, item) }}></i>\n              <span className='sign'>{rowIndex * columnCount + columnIndex + 1}</span>\n              {item.ext === 'gif' && <i className='iconfont GIF-IMG'>&#xe670;</i>}\n              {item.cpt && <i className='iconfont icon'>&#xe604;</i>}\n              {/(avi|mov|rmvb|rm|flv|mp4|3gb)$/.test(item.ext) && <i className='iconfont v_icon'>&#xe6ae;</i>}\n            </div>\n          </Tooltip>\n        );\n      }\n    } catch (error) {\n      return <div style={style}></div>\n    }\n  }\n}\n\nexport default Thumbnail;\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { withTranslation } from 'react-i18next';\nimport dayjs from 'dayjs';\nimport { getFile } from '../../util/util';\nimport Loading from '../../common/Widget/Loading';\nimport Nodata from '../../common/Widget/Nodata';\nimport LazyImage from '../../common/Lazy-image';\nimport imgload from '../../images/imgload.gif';\nimport imgload2 from '../../images/imgerror.png';\n\n@withTranslation() @inject('login', 'photoalbum', 'albumAdd') @observer\nclass Albumlist extends Component {\n  componentDidMount() {\n    this.props.albumAdd.getAlbum();\n  }\n\n  render() {\n    const { t } = this.props;\n    const { list,getDetail } = this.props.albumAdd;\n    return (\n      <div className='list-body clearfix'>\n        {list ? (\n          list.length > 0 ? list.map(item => {\n            return (\n              <div\n                key={item.id}\n                className='albumslist'\n                onClick={(e) => { getDetail(item.id, item.name) }}>\n                <div className='top-img' style={item.profile ? { backgroundImage: `url(${imgload})` } : { backgroundImage: `url(${imgload2})`,backgroundSize:'100% 100%' }}>\n                  {item.profile && <LazyImage\n                    src={getFile.file_s(item.profile.id)}\n                    alt={item.profile.id}\n                    w='226px' />}\n                </div>\n                <div className='bottom-information'>\n                  <div className='name-time'>\n                    <p className='album-name ellipsis'>{item.name}</p>\n                    <p className='update-time'>\n                      <span>{t('LastUpdate')}{item.updated ? dayjs(item.updated).format(t(\"L\")) : dayjs(item.created).format(t(\"L\"))}</span>\n                    </p>\n                    <span className='photo-num'>{t('Photo')}:{item.filecount}</span>\n                  </div>\n                </div>\n              </div >\n            )\n          }) : <Nodata />\n        ) : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default Albumlist;\n\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { get } from 'mobx';\nimport { Tooltip } from 'antd';\nimport { FixedSizeGrid as Grid } from 'react-window';\nimport { withTranslation } from 'react-i18next';\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport Loading from '../../common/Widget/Loading';\nimport Nodata from '../../common/Widget/Nodata';\n// import Thumbnail from '../../common/Thumbnail/index';\nimport { getFile } from '../../util/util';\nimport Goblack from '../../common/Goblack';\n\n@withTranslation() @inject('login', 'albumAdd') @observer\nclass Albumdetails extends Component {\n  constructor(props) {\n    super(props);\n    this.imgRef = React.createRef();\n  }\n  componentDidMount() {\n    this.props.albumAdd.getData(this.getWH, this.getH);\n    window.addEventListener('resize', this.getWH);\n  }\n  //计算宽高\n  getWH = (flag) => {\n    try {\n      let wi, hi, w = 135, h = 120;\n      this.w = this.imgRef.current.offsetWidth;\n      this.h = this.imgRef.current.offsetHeight;\n      let Width = this.imgRef.current.offsetWidth - 18;\n      let row = Math.floor(Width / w);\n      let space = Width % w;\n      wi = space / row + w;\n      hi = wi / w * h;\n      this.childW = wi;\n      this.childH = hi;\n      this.columnCount = Math.floor(Width / w);\n      console.log(this.h)\n      if (!flag) {\n        this.getH();\n      }\n      console.log('this.columnCount>>>>>>>', this.columnCount)\n      return this.columnCount;\n    } catch (error) {\n      console.log(error);\n      // this.getWH();\n    }\n  }\n\n  getH = () => {\n    const { detailList } = this.props.albumAdd;\n    this.rowCount = detailList.length / this.columnCount;\n    console.log('this.rowCount', this.rowCount)\n  }\n\n  componentWillMount() {\n    window.removeEventListener('resize', this.getWH);\n  }\n  render() {\n    const { t } = this.props;\n    const {\n      detailList,\n      partlist,\n      name,\n      goback,\n      checkclick,\n      SelectImgs,\n      checkAll,\n      invert } = this.props.albumAdd;\n    const { OS } = this.props.login;\n    const ps = OS === 'tab' ? { visible: false } : {};\n    let fileNum = 0;\n    SelectImgs.forEach(item => {\n      if (!item.true) {\n        fileNum += 1;\n      }\n    });\n    return (\n      <div className='detail-inner'>\n        <span className='check-all'>\n          <i\n            className={`iconfont check-photoalbum treeNodeUnselectable ${detailList.length === SelectImgs.length && detailList.length > 0 ? 'icon-xuanzhong1' : 'icon-weixuanzhong'}`}\n            onClick={checkAll}></i>\n          {fileNum > 0 ? `${t('Selected')} ${fileNum} ${t('file')}` : t('Allelection')}\n          {fileNum > 0 && <span onClick={invert} className='invert-Selection'>{t('Reverseselection')}</span>}\n        </span>\n\n        <div className='top'>\n          <Goblack go={goback} name={name} />\n        </div>\n        <div className='list-box' ref={this.imgRef}>\n          {partlist ? detailList.length > 0 ? (\n            <AutoSizer>\n              {({ height, width }) => (\n                <Grid\n                  className=\"Grid\"\n                  itemData={detailList}\n                  rowCount={this.rowCount}\n                  columnCount={this.columnCount}\n                  columnWidth={this.childW}\n                  height={height}\n                  rowHeight={this.childH}\n                  width={width}\n                >\n                  {({ columnIndex, data, rowIndex, style }) => {\n                    const item = data[rowIndex * this.columnCount + columnIndex]\n                    try {\n                      if (get(item, 'true')) {\n                        return <div style={{ visibility: 'hidden' }}></div>\n                      } else {\n                        return (\n                          <Tooltip\n                            key={item.id}\n                            overlayClassName='tooltip'\n                            title={item.cpt}\n                            {...ps}>\n                            <div\n                              style={style}\n                              className={`thumbnail2 ${get(item, 'check') ? 'checkon' : ''}`}\n                              onClick={() => { checkclick(item.id) }}\n                            >\n                              <img\n                                className='img_box'\n                                src={getFile.file_s(item.id)}\n                                alt='' />\n                              <i style={OS === 'tab' ? { visibility: 'inherit' } : {}}\n                                className={`iconfont checkIcon treeNodeUnselectable ${get(item, 'check') ? 'icon-xuanzhong1' : 'icon-weixuanzhong'}`}></i>\n                              {item.ext === 'gif' && <i className='iconfont GIF-IMG'>&#xe670;</i>}\n                              <span className='sign'>{rowIndex * this.columnCount + columnIndex + 1}</span>\n                              {item.cpt && <i className='iconfont icon'>&#xe604;</i>}\n                              {/(avi|mov|rmvb|rm|flv|mp4|3gb)$/.test(item.ext) && <i className='iconfont v_icon'>&#xe6ae;</i>}\n                            </div>\n                          </Tooltip>\n                        );\n                      }\n                    } catch (error) {\n                      return <div style={{ visibility: 'hidden' }}></div>\n                    }\n                  }}\n                </Grid>\n              )}\n            </AutoSizer>\n          ) : <Nodata /> : <Loading />}\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Albumdetails;","import React from 'react';\nimport { Modal, Button } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport { withTranslation } from 'react-i18next';\nimport Albumlist from './Albumlist';\nimport Albumdetails from './Albumdetails';\n\n// const num = 80; //一页加载个数\n\n@withTranslation() @inject('albumAdd') @observer\nclass Cloudalbum extends React.Component {\n\n  handleOk = () => {\n    this.props.albumAdd.handleOk(this.props.handleCancel, this.props.onOk)\n  }\n\n  handleCancel = () => {\n    this.props.albumAdd.handleCancel(this.props.handleCancel)\n  }\n\n  render() {\n    const { t, visible } = this.props;\n    const {\n      ftbtn,\n      detail } = this.props.albumAdd;\n    return (\n      <Modal\n        visible={visible}\n        title={t('Albumadd')}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        bodyStyle={{ padding: '0', height: '70vh', position: 'relative' }}\n        getContainer={false}\n        destroyOnClose={true}\n        width='75vw'\n        footer={\n          ftbtn ? [\n            <Button key=\"submit\" type=\"primary\" onClick={this.handleOk}>{t('Determine')}</Button>] : null\n        }\n      >\n        {detail ? <Albumdetails /> : <Albumlist />}\n      </Modal >\n    );\n  }\n};\nexport default Cloudalbum;\n","import React, { Component } from 'react';\nimport { Modal, Icon } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport { withTranslation } from 'react-i18next';\nimport './style.scss';\nimport { get } from 'mobx';\nimport { strRep, getFile } from '../../util/util';\nimport Nodata from '../../common/Widget/Nodata';\nimport Loading from '../../common/Widget/Loading';\n\n@withTranslation() @inject('login') @observer\nclass Chooseframe extends Component {\n\n  render() {\n    const {\n      visible,\n      title,\n      framelist,\n      onOk,\n      onCancel,\n      id,\n      click,\n      checkAllfn,\n      framelists } = this.props;\n    const { OS } = this.props.login;\n    const { t } = this.props;\n    return (\n      <Modal\n        title={title}\n        visible={visible}\n        getContainer={false}\n        destroyOnClose={true}\n        width={'70vw'}\n        okText={t('Determine')}\n        cancelText={t('Cancel')}\n        onOk={onOk}\n        onCancel={onCancel}>\n        {\n          framelist && <div className='framecheckAll'>\n              <i\n                className={`iconfont check-frame treeNodeUnselectable ${framelist.length === framelists.length && framelist.length > 0 ? 'icon-xuanzhong1' : 'icon-weixuanzhong'}`}\n                onClick={checkAllfn}></i>\n            <span className='checkAll-text'>{t('Allelection')}</span>\n          </div>\n        }\n        <div className='frame_list'>\n          {\n            framelist ? framelist.length > 0 ? framelist.map(item => {\n              return (\n                <div\n                  key={item.node}\n                  className={`choose-framer-list ${get(item, 'check') ? 'choose-framer-list-check' : null}`}\n                  onClick={() => { click(item) }}>\n                  <span\n                    style={OS === 'tab' ? { visibility: 'inherit' } : {}}\n                    className={`choose-framerlist-check ${item.playlist_id === id ? 'defaultcheck' : ''}`}>\n                    <Icon type=\"check\" />\n                  </span>\n                  <div className='choose-framer-cover'>\n                    <div className='cover-img'>\n                      <span\n                        className='back-img'\n                        style={item.profile ? { background: `url(\"${getFile.file_s(item.profile.id)}\") no-repeat`, backgroundSize: '100% 100%' } : {}}></span>\n                    </div>\n                  </div>\n                  <div className='choose-framer-name-series'>\n                    <div className='name clearfix'>\n                      <p className='frame-name ellipsis'>{item.name}</p>\n                      <div className='admin_default'>\n                        <span\n                          className='admin'\n                          style={item.playlist_id === id ? { visibility: 'initial' } : { visibility: 'hidden' }}>\n                          {t('default')}\n                        </span>\n                      </div>\n                    </div>\n                    <p className='series'>SN : {strRep(item.serial)} </p>\n                  </div>\n                </div>\n              )\n            }) : <Nodata /> : <Loading />\n          }\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default Chooseframe;","import React, { Component } from 'react';\nimport { Icon, Tooltip } from 'antd';\nimport { withTranslation } from 'react-i18next';\nimport { strRep, getFile } from '../../util/util';\nimport { get } from 'mobx';\nimport { observer } from 'mobx-react';\nimport Loading from '../../common/Widget/Loading';\nimport Nodata from '../../common/Widget/Nodata';\n\n@withTranslation() @observer\nclass Toframes extends Component {\n  render() {\n    const { t, framelist, id, framePlay, initload } = this.props;\n    return (\n      <div className='playlistdetails-main-right'>\n        {initload ? <div className='bind-frameslist'>\n          {framelist.length > 0 ? framelist.map(item => {\n            return (\n              <div key={item.node} className='boxlist' style={{ width: item.w, height: item.h}}>\n                <div  className='list'>\n                  <div className='rahmen-cover'>\n                    <div className='cover-img'>\n                      <span\n                        className='back-img'\n                        style={item.profile ? { background: `url(\"${getFile.file_s(item.profile.id)}\") no-repeat`, backgroundSize: '100% 100%' } : {}}></span>\n                    </div>\n                  </div>\n                  <div className='rahmen-name-series'>\n                    <p className='name_info ellipsis'>\n                      <Tooltip placement=\"bottom\" title={get(item, 'name')} overlayClassName='tooltip'>\n                        <span className='name ellipsis'>{item.name}</span>\n                      </Tooltip>\n                      {item.playlist_id === id && <span className='admin'>{t('default')}</span>}\n                    </p>\n                    <p className='series'>SN : {strRep(item.serial)} </p>\n                  </div>\n                  <div className='frame-ringht'>\n                    <Tooltip placement=\"left\" overlayClassName='tooltip' title={t('playtoframe')}>\n                      <Icon onClick={() => { framePlay([item.node]) }} type=\"play-square\" theme=\"filled\" />\n                    </Tooltip>\n                  </div>\n                </div>\n              </div>\n            )\n          }) : <Nodata />}\n        </div> : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default Toframes;","import React from 'react';\nimport { Menu, Dropdown, Button, Icon, message } from 'antd';\nimport { withTranslation } from 'react-i18next';\nimport { inject, observer } from 'mobx-react';\nimport dayjs from 'dayjs';\nimport { FixedSizeGrid as Grid } from 'react-window';\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n// import { Sortable, MultiDrag } from '../../util/sortable.esm';\nimport { observable } from 'mobx';\nimport './style.scss';\nimport Thumbnail from '../../common/Thumbnail';\nimport Upinput from '../../common/Upinput';\nimport BigimgCpt from '../../common/BigimgCpt.js';\nimport Loading from '../../common/Widget/Loading';\nimport Nodata from '../../common/Widget/Nodata';\nimport Cloudalbum from './Cloudalbum';\nimport Chooseframe from './Chooseframe';\nimport Information from '../../common/Information';\nimport { wsget } from '../../ws';\nimport event from '../../util/event';\nimport Goblack from '../../common/Goblack';\nimport Toframes from './Toframes';\nimport i18next from 'i18next';\n\n// Sortable.mount(new MultiDrag());\n\n\n@withTranslation() @inject('playlist', 'uploadFiles', 'login', 'rahmen', 'playdetail') @observer\nclass Playlistdetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renameRef = React.createRef();\n    this.imgRef = React.createRef();\n    this.frameRef = React.createRef();\n  }\n  @observable num = 100; //一页加载个数\n  @observable sortableInstance = null;\n  @observable init = false; //初始化\n  detail_list = { list: [] };//用来展示列表详情\n  detail_list_2 = { list: [] };//操作的列表详情\n  checkAll = false;//是否全选\n  @observable removeFileids = [];//选中的图片的列表\n  @observable bImg_visible = false;//大图modul\n  @observable defaultValue = '';//图片描述\n  @observable imgfile = {};//大图文件\n  @observable imgidx = null;//切换图片的标识\n  @observable set_visible = false;//查看绑定相框显隐开关\n  @observable playlistFrames_load = false;//查看绑定相框loading\n  @observable frameList = [];//绑定相框de列表\n  @observable frameListNum = 0;//绑定相框个数\n  @observable info_visible = false;//列表信息显隐\n  @observable infoObj = {};//列表信息数据\n  @observable dragIndex = null;//列表信息数据\n  checkidxArr = [];\n  @observable name = '';\n  @observable id = null;\n  @observable list = []; //渲染的数据\n  @observable page = 0; //第一条数据\n  @observable hasMoreItems = true;\n  @observable number = this.num;\n  @observable frames_visible = false;  //选择相框显隐\n  @observable albumvisible = false;  //云相册添加图片显隐\n  @observable filenum = 0;  //文件数量\n  @observable created = null;  //创建时间\n  @observable updated = null;  //更新时间\n  @observable h = 0;  //更新时间\n  @observable w = 0;  //更新时间\n  flag = true; //拖拽保存列表的标记\n\n  // @observable initialData = [];\n  @observable initialData = [];\n  @observable key = 1;\n\n\n  async componentDidMount() {\n    try {\n      const { id } = this.props.match.params;\n      const { name, created } = this.props.playlist.urlData;\n      if (!name) {\n        const playArr = await wsget('playlist_list', null);\n        const pos = playArr.findIndex(item => item.id === Number(id));\n        if (pos === -1) {\n          this.props.history.push(`/playlist`);\n        }\n        this.name = playArr[pos].name;\n        this.created = playArr[pos].created;\n      } else {\n        this.name = name;\n        this.created = created;\n      }\n      this.id = Number(id);\n      this.get();\n      this.props.playdetail.getData(this.id, this.getWH, this.getH, this.w);\n\n      window.addEventListener('resize', this.myresize);\n      // window.addEventListener('resize', this.myresize2);\n\n      this.wsinit = event.on('wsinit', (res) => {\n        if (res === 1) {\n          if (!this.props.playdetail.init) {\n            this.props.playdetail.getData(this.id, this.getWH, this.getH, this.w);\n          }\n        }\n      })\n    } catch (error) {\n      this.props.history.push(\"/playlist\");\n    }\n  }\n\n  componentWillUnmount() {\n    event.rmName('framesNum');\n    event.rmName('rmCheck');\n    window.removeEventListener('resize', this.myresize);\n    window.removeEventListener('resize', this.myresize2);\n    event.rm(this.wsinit);\n    this.props.playdetail.clearData();\n  }\n\n  myresize = () => {\n    this.get();\n    this.props.playdetail.resize(this.getWH);\n    this.props.playdetail.resize2(this.w, this.props.playdetail.frameList);\n  }\n\n  get = () => {\n    if (this.key === 1) {\n      this.w = this.imgRef.current.offsetWidth;\n      this.h = this.imgRef.current.offsetHeight;\n    } else {\n      this.w = this.frameRef.current.offsetWidth;\n      this.h = this.frameRef.current.offsetHeight;\n    }\n  }\n\n  //计算宽高\n  getWH = (flag) => {\n    try {\n      let wi, hi, w = 165, h = 150;\n      let Width = this.w - 18;\n      let row = Math.floor(Width / w);\n      let space = Width % w;\n      wi = space / row + w;\n      hi = wi / w * h;\n      this.childW = wi;\n      this.childH = hi;\n      this.columnCount = Math.floor(Width / w);\n      // console.log(this.h)\n      if (!flag) {\n        this.getH();\n      }\n      // console.log('this.columnCount>>>>>>>', this.columnCount)\n      return this.columnCount;\n    } catch (error) {\n      console.log(error);\n      // this.getWH();\n      this.props.history.push(\"/playlist\");\n    }\n  }\n\n  getH = () => {\n    const { initialData } = this.props.playdetail;\n    this.rowCount = initialData.length / this.columnCount;\n    // console.log('this.rowCount', this.rowCount)\n  }\n\n  //详情显示\n  info_show = () => {\n    const infoObj = [\n      { id: 1, icon: 'file-image', txt: 'document', data: this.props.playdetail.filenum },\n      { id: 2, icon: 'file-image', txt: 'BindingFrame', data: this.props.playdetail.frameListNum },\n      { id: 3, icon: 'clock-circle', txt: 'CreationTime', data: dayjs(this.created).format(this.props.t('LL')) },\n      { id: 4, icon: 'clock-circle', txt: 'LastUpdate', data: dayjs(this.props.playdetail.updated).format(this.props.t('LL')) },\n    ]\n    this.info_visible = true;\n    this.infoObj = infoObj;\n  }\n\n  //上传\n  uploading = (e, reset) => {\n    const { id } = this;\n    this.props.uploadFiles.upFile(e, id, reset, this.props.playdetail.updated)\n  }\n\n  //返回\n  goblack = () => {\n    this.props.history.push(`/playlist`);\n  }\n\n  //选择相框显示\n  chooseframe = () => {\n    this.frames_visible = true;\n    this.props.playdetail.getframes(this.id);\n  }\n  //播放到相框\n  frameonPlay = (frames) => {\n    if (!this.props.playdetail.initialData.length > 0) {\n      message.warning(i18next.t('Listempty'));\n      return;\n    }\n    wsget('playlist_play_in_frame', { id: this.id, frames }, 1)\n  }\n  handleOk = e => {\n    this.frames_visible = false;\n    this.props.playdetail.handleOk();\n  };\n  handleCancel = e => {\n    this.frames_visible = false;\n    this.props.playdetail.framesno()\n  }\n  //选择相框end\n\n  //云相册添加\n  cloudAlbumUpload = () => {\n    this.albumvisible = true;\n  }\n  albumCancel = () => {\n    this.albumvisible = false;\n  }\n\n  onchange = (key) => {\n    this.key = key;\n    if (key === 2) {\n      this.props.playdetail.getFrames(this.id, this.w);\n    }\n  }\n\n  myresize2 = () => {\n    this.props.playdetail.resize2(this.frameRef.current.offsetWidth, this.props.playdetail.frameList);\n  }\n\n  render() {\n    const { t } = this.props;\n    const {\n      frames_visible,\n      info_visible,\n      infoObj,\n      id,\n      name,\n      albumvisible,\n      created } = this;\n    const {\n      init,\n      initialData,\n      oncheckAll,\n      removeFileids,\n      remove_img,\n      filenum,\n      bImg_visible,\n      closeDialog,\n      imgfile,\n      onPiece,\n      nextPage,\n      addCpt,\n      frames,\n      checkFrames,\n      frameList,\n      frameListNum,\n      updated,\n      albumOk,\n      invert,\n      moveTop,\n      moveLast,\n      checkAllfn,\n      framelists,\n      num } = this.props.playdetail;\n\n    const menu = (\n      <Menu>\n        <Menu.Item key=\"1\">\n          <Upinput className='upphoto-btn' onupload={this.uploading} />\n        </Menu.Item>\n        <Menu.Item key=\"2\">\n          <button className='cloudAlbumUpload' onClick={this.cloudAlbumUpload}>{t('albumAdd')}</button>\n        </Menu.Item>\n      </Menu>\n    );\n\n\n\n    return (\n      <div className='playlistdetails'>\n        <div className='playlist-header'>\n          <Goblack go={this.goblack} name={name} />\n          <div className='p-details-information'>\n            {this.key === 2 ? (<div className='choose-frame'>\n              <span onClick={this.chooseframe}>{t('Chooseframe')}</span>\n            </div>) : (\n                <Dropdown overlay={menu} trigger={['click']} size='large'>\n                  <Button type=\"primary\">\n                    {t('Uploadphotos')} <Icon style={{ fontSize: '14px' }} type=\"down\" />\n                  </Button>\n                </Dropdown>\n              )}\n            <div className={`file-num ${this.key === 1 ? 'befort' : ''}`} onClick={() => { this.onchange(1) }}>\n              <div className='p-d-i-icon'>\n                <i className='iconfont icon'>&#xe785;</i>\n              </div>\n              <div className='num-text'>\n                <p className='text'>{t('Photo')}</p>\n                <p className='num'>{filenum}</p>\n              </div>\n            </div>\n            <div className={`frame-num ${this.key === 2 ? 'befort' : ''}`} onClick={() => { this.onchange(2) }}>\n              <div className='p-d-i-icon'>\n                <i className='iconfont icon'>&#xe784;</i>\n              </div>\n              <div className='num-text'>\n                <p className='text'>{t('photoframe')}</p>\n                <p className='num'>{frameListNum}</p>\n              </div>\n            </div>\n            <div className=\"Time\">\n              <div className='creation-time'>\n                <div className='p-d-i-icon'><span className='creation-time-icon'></span></div>\n                <div className='num-text'>\n                  <p className='text'>{t('CreationTime')}</p>\n                  <p className='num'>{created && dayjs(created).format(t('LL'))}</p>\n                </div>\n              </div>\n              <div className='last-update'>\n                <div className='p-d-i-icon'><span className='last-update-icon'></span></div>\n                <div className='num-text'>\n                  <p className='text'>{t('LastUpdate')}</p>\n                  <p className='num'>{updated && dayjs(updated ? updated : created).format(t('LL'))}</p>\n                </div>\n              </div>\n            </div>\n            <div className='playlist-set'>\n              <div className='playlist-msg-icon' onClick={this.info_show}>\n                <Icon type=\"exclamation\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='playlistdetails-boby'>\n          <div className='playlistdetails-main'>\n            <div className='playlistdetails-main-left' style={this.key === 1 ? {} : { display: \"none\" }}>\n              <div className='playlist-operation'>\n                {init && <div className='checkAll'>\n                  <i className={`iconfont treeNodeUnselectable ${initialData.length === removeFileids.length && initialData.length > 0 ? 'icon-xuanzhong1' : 'icon-weixuanzhong'}`}\n                    onClick={oncheckAll}></i>\n                  <span className='checkAll-text'>{num > 0 ? `${t('Selected')} ${num} ${t('file')}` : t('Allelection')}</span>\n                  {removeFileids.length > 0 && <span onClick={invert} className='invert-Selection'>{t('Reverseselection')}</span>}\n                </div>}\n                {removeFileids.length > 0 && <div className='playlist-delete'>\n                  <span onClick={() => { moveTop(id) }}>{t('Movefront')}</span>\n                </div>}\n                {removeFileids.length > 0 && <div className='playlist-delete'>\n                  <span onClick={() => { moveLast(id) }}>{t('Movelast')}</span>\n                </div>}\n                <div className='playlist-delete' style={removeFileids.length > 0 ? {} : { visibility: 'hidden' }}>\n                  <span onClick={() => { remove_img(id) }}><Icon type=\"delete\" />{t('delete')}</span>\n                </div>\n              </div>\n              <div ref={this.imgRef} className='imglist-inner'>\n                {init ? initialData.length > 0 ? (\n                  <AutoSizer>\n                    {({ height, width }) => (\n                      <Grid\n                        className=\"Grid\"\n                        itemData={initialData}\n                        rowCount={this.rowCount}\n                        columnCount={this.columnCount}\n                        columnWidth={this.childW}\n                        height={height}\n                        rowHeight={this.childH}\n                        width={width}\n                      >\n                        {Thumbnail}\n                      </Grid>\n                    )}\n                  </AutoSizer>\n                ) : <Nodata /> : <Loading />}\n              </div>\n            </div>\n\n            <div ref={this.frameRef} className='toframes' style={this.key === 2 ? {} : { display: \"none\" }}>\n              <Toframes\n                framelist={frameList}\n                id={id}\n                initload={init}\n                framePlay={this.frameonPlay} />\n            </div>\n          </div>\n        </div>\n\n        {\n          bImg_visible && <BigimgCpt\n            closeDialog={closeDialog}\n            imgfile={imgfile}\n            onPiece={onPiece}\n            nextPage={nextPage}\n            blur={addCpt} />\n        }\n\n        <Chooseframe\n          title={t('Chooseframe')}\n          visible={frames_visible}\n          framelist={frames}\n          id={id}\n          click={checkFrames}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          checkAllfn={checkAllfn}\n          framelists={framelists}\n        />\n\n        <Cloudalbum\n          visible={albumvisible}\n          onOk={albumOk}\n          handleCancel={this.albumCancel} />\n\n        {\n          info_visible && <Information\n            data={infoObj}\n            handlecancel={() => { this.info_visible = false }} />\n        }\n      </div >\n    );\n  }\n};\n\nexport default Playlistdetails;"],"sourceRoot":""}