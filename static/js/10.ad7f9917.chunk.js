(this.webpackJsonpframeweb=this.webpackJsonpframeweb||[]).push([[10],{733:function(e,a,t){"use strict";t(72);var n,l=t(13),i=(t(64),t(17)),s=t(8),c=t(10),r=t(21),m=t(22),o=t(23),d=t(0),p=t.n(d),u=t(36),h=(t(188),t(6)),f=Object(u.b)()(n=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(r.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState({value:e.target.value})},t.handleOK=function(){var e=Object(h.t)(t.state.value);""!==e?t.props.handleconfirm(e):i.a.error(t.props.t("enterName"))},t.inputRef=p.a.createRef(),t.state={value:t.props.defaultValue,name:""},t}return Object(o.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.inputRef.current.focus()}},{key:"render",value:function(){var e=this.props,a=e.t,t=e.title,n=e.handlecancel;return p.a.createElement("div",{className:"custom-modal"},p.a.createElement("div",{className:"modal-warp"},p.a.createElement("div",{className:"modal-warp-header"},p.a.createElement("h3",null,t),p.a.createElement("span",{onClick:n},p.a.createElement(l.a,{type:"close"}))),p.a.createElement("div",{className:"modal-warp-boby"},p.a.createElement("div",{className:"modal-warp-input"},p.a.createElement("input",{ref:this.inputRef,maxLength:50,autoFocus:!0,spellCheck:!1,type:"text",value:this.state.value,onChange:this.handleChange})),p.a.createElement("div",{className:"modal-warp-handle"},p.a.createElement("span",{className:"cancel-btn",onClick:n},a("Cancel")),p.a.createElement("span",{className:"confirm-btn",onClick:this.handleOK},a("Determine"))))))}}]),a}(d.Component))||n;a.a=f},739:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));t(72);var n=t(13),l=t(8),i=t(10),s=t(21),c=t(22),r=t(23),m=t(0),o=t.n(m),d=(t(763),function(e){function a(){return Object(l.a)(this,a),Object(s.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(r.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"go-back"},o.a.createElement("p",{className:"go-back-on"},o.a.createElement("span",{className:"playlist-name ellipsis",onClick:this.props.go},o.a.createElement(n.a,{type:"left"}),this.props.name)))}}]),a}(m.Component))},763:function(e,a,t){},809:function(e,a,t){},978:function(e,a,t){},990:function(e,a,t){"use strict";t.r(a);t(187);var n,l,i,s,c,r,m,o,d,p,u=t(117),h=(t(72),t(13)),f=t(51),b=t.n(f),E=(t(64),t(17)),v=t(4),N=t(8),y=t(10),_=t(21),k=t(22),O=t(18),j=t(23),g=t(2),C=(t(53),t(0)),w=t.n(C),x=t(36),S=t(43),A=t.n(S),L=t(39),R=t(6),D=t(264),z=t(263),H=(t(978),t(1)),P=(t(809),Object(x.b)()(n=Object(L.b)("rahmen","playlist")(n=Object(L.c)(n=function(e){function a(){var e,t;Object(N.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(_.a)(this,(e=Object(k.a)(a)).call.apply(e,[this].concat(l)))).handleOk=function(){t.props.rahmen.add_playlist(t.props.node),t.props.cancel()},t}return Object(j.a)(a,e),Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.rahmen.selectedlist()}},{key:"render",value:function(){var e=this.props.t,a=this.props.rahmen,t=a.playitems,n=a.Check,l=a.allCheck,i=a.seletplay;return w.a.createElement("div",{className:"Setrahmen-moudle"},w.a.createElement("div",{className:"Setrahmen-moudle-boby"},w.a.createElement("div",{className:"Setrahmen-hd"},w.a.createElement("span",{className:"hd-title"},e("SelecList")),w.a.createElement("span",{className:"hd-close-icon",onClick:this.props.cancel},w.a.createElement(h.a,{type:"close"}))),t&&w.a.createElement("div",{className:"SetrahmencheckAll"},w.a.createElement("i",{className:"iconfont check-frame treeNodeUnselectable ".concat(i.length===t.length&&t.length>0?"icon-xuanzhong1":"icon-weixuanzhong"),onClick:l}),w.a.createElement("span",{className:"checkAll-text"},e("Allelection"))),w.a.createElement("div",{className:"Setrahmen-bd"},t?t.length>0?t.map((function(a){return w.a.createElement("div",{className:"list-box ".concat(Object(H.h)(a,"check")?"list-checked":""),key:a.id,onClick:function(){n(a.id)}},a.defaultlistId?w.a.createElement("span",{className:"default"},e("default")):w.a.createElement("span",{className:"list-box-check"},w.a.createElement(h.a,{type:"check"})),w.a.createElement("div",{className:"top-img"},w.a.createElement("div",{className:"img1"},a.profile&&w.a.createElement("img",{alt:a.profile.key,src:R.h.file_s(a.profile.id)})),w.a.createElement("div",{className:"img2-4"},w.a.createElement("span",{className:"img2"},a.profile_1&&w.a.createElement("img",{alt:a.profile_1.key,src:R.h.file_s(a.profile_1.id)})),w.a.createElement("span",{className:"img3"},a.profile_2&&w.a.createElement("img",{alt:a.profile_2.key,src:R.h.file_s(a.profile_2.id)})),w.a.createElement("span",{className:"img4"},a.profile_3&&w.a.createElement("img",{alt:a.profile_3.key,src:R.h.file_s(a.profile_3.id)})))),w.a.createElement("div",{className:"bottom-text"},w.a.createElement("p",{className:"playlist-name"},a.name),w.a.createElement("p",{className:"update-time"},w.a.createElement("span",null,"".concat(e("LastUpdate"),":"),A()(a.updated).format(e("LL")))),w.a.createElement("span",{className:"playlist-photo-num"},"\u7167\u7247:",a.filecount)))})):w.a.createElement(z.a,null):w.a.createElement(D.a,null)),w.a.createElement("div",{className:"Setrahmen-ft"},w.a.createElement("span",{className:"cancel-btn",onClick:this.props.cancel},e("Cancel")),w.a.createElement("span",{className:"confirm-btn",onClick:this.handleOk},e("Determine")))))}}]),a}(C.Component))||n)||n)||n),U=t(733),I=t(7),V=Object(x.b)()(l=Object(L.b)("rahmen","playlist")(l=Object(L.c)(l=function(e){function a(){var e,t;Object(N.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(_.a)(this,(e=Object(k.a)(a)).call.apply(e,[this].concat(l)))).state={visible:!1,defaultVal:"",user_id:null},t.handlecancel=function(){t.setState({visible:!1,defaultVal:"",user_id:null})},t.handleconfirm=function(e){var a=Object(R.t)(e);t.props.rahmen.frame_user_rename(t.props.node,t.state.user_id,a),t.setState({visible:!1,defaultVal:"",user_id:null})},t.user_delete=function(e){t.props.rahmen.frame_user_delete(t.props.node,e)},t}return Object(j.a)(a,e),Object(y.a)(a,[{key:"show",value:function(e,a,t){var n=e||a;this.setState({visible:!0,defaultVal:n,user_id:t})}},{key:"setAdmin",value:function(e){this.props.rahmen.frame_user_admin(this.props.node,e,"true")}},{key:"cancelAdmin",value:function(e){this.props.rahmen.frame_user_admin(this.props.node,e,"false")}},{key:"render",value:function(){var e=this,a=this.props.t,t=this.props.rahmen.frame_user_list;return w.a.createElement("div",{className:"frameuser"},w.a.createElement("div",{className:"frameuser-inner"},w.a.createElement("div",{className:"frameuser-hd"},w.a.createElement("span",{className:"hd-title"},a("UserList")),w.a.createElement("span",{className:"hd-close-icon",onClick:this.props.cancel},w.a.createElement(h.a,{type:"close"}))),w.a.createElement("div",{className:"frameuser-bd"},w.a.createElement("ul",null,t.map((function(t,n){return w.a.createElement("li",{key:t.id},w.a.createElement("span",{className:"user-icon",style:Object(H.h)(t,"profile")?{background:"url(".concat(Object(I.a)(),"/uf/s/").concat(Object(H.h)(t,"profile").id,"/").concat(t.id,")")}:{}},!Object(H.h)(t,"profile")&&w.a.createElement(h.a,{type:"user"})),w.a.createElement(u.a,{title:t.nickname?t.nickname:t.name,overlayClassName:"tooltip"},w.a.createElement("span",{className:"user-name ellipsis"},t.nickname?t.nickname:t.name)),w.a.createElement("span",{className:"user-is-admin",style:Object(H.h)(t,"is_admin")?{}:{visibility:"hidden"}},a("Admin")),w.a.createElement("div",{className:"frameuser-operation"},Object(H.h)(t,"is_admin")?w.a.createElement("span",{className:"operation-admin",style:t.id===R.q.get("Z_H_U_DATA").id?{display:"none"}:{},onClick:function(){e.cancelAdmin(t.id)}},a("cancelAdmin")):w.a.createElement("span",{className:"operation-admin",style:t.id===R.q.get("Z_H_U_DATA").id?{display:"none"}:{},onClick:function(){e.setAdmin(t.id)}},a("setAdmin")),w.a.createElement("span",{className:"user-rename",onClick:function(){e.show(t.nickname,t.name,t.id)}},a("modifyNickname")),w.a.createElement("span",{className:"user-delete",style:t.id===R.q.get("Z_H_U_DATA").id?{display:"none"}:{},onClick:function(){e.user_delete(t.id)}},a("delete"))))})))),w.a.createElement("div",{className:"frameuser-ft"},w.a.createElement("span",{className:"cancel-btn",onClick:this.props.cancel},a("Close")))),this.state.visible?w.a.createElement(U.a,{title:a("modifyNickname"),defaultValue:this.state.defaultVal,handlecancel:this.handlecancel,handleconfirm:this.handleconfirm}):null)}}]),a}(C.Component))||l)||l)||l,B=t(739),W=(t(155),t(99)),q=Object(x.b)()(i=function(e){function a(){return Object(N.a)(this,a),Object(_.a)(this,Object(k.a)(a).apply(this,arguments))}return Object(j.a)(a,e),Object(y.a)(a,[{key:"render",value:function(){var e=this.props,a=e.t,t=e.visible,n=e.onCancel,l=e.controlBtn,i=e.click,s=e.node;return w.a.createElement(W.a,{visible:t,title:a("control"),width:585,bodyStyle:{textAlign:"center"},onCancel:n,getContainer:!1,centered:!0,footer:null},w.a.createElement("div",{className:"control"},w.a.createElement("div",{className:"control-body"},l.map((function(e){return w.a.createElement("span",{key:e.id,className:e.class,onClick:function(){i(e.class,s)}})})))))}}]),a}(C.Component))||i,T=Object(x.b)()(s=Object(L.b)("rahmen")(s=Object(L.c)((c=function(e){function a(e){var t;return Object(N.a)(this,a),t=Object(_.a)(this,Object(k.a)(a).call(this,e)),Object(v.a)(t,"node",r,Object(O.a)(t)),Object(v.a)(t,"name",m,Object(O.a)(t)),Object(v.a)(t,"serial",o,Object(O.a)(t)),Object(v.a)(t,"control_visible",d,Object(O.a)(t)),Object(v.a)(t,"controlBtn",p,Object(O.a)(t)),t.getWH=function(){t.props.rahmen.resize(t.boxRef.current.offsetWidth,t.props.rahmen.playList,"play")},t.hide=function(){t.setState({menuDisplayId:null})},t.more_show=function(e,a){e.nativeEvent.stopImmediatePropagation(),t.setState({menuDisplayId:a})},t.selectedlist=function(){t.setState({sel_visible:!0})},t.selectedlistHide=function(){t.setState({sel_visible:!1,setNode:null})},t.frameuserHide=function(){t.setState({user_visible:!1})},t.set_default=function(e,a,n){e.stopPropagation(),t.props.rahmen.set_default(a,n)},t.delete=function(e,a){e.stopPropagation(),a.isdefault?E.a.warning(t.props.t("defaultNotDelete")):t.props.rahmen.frame_playlist_delete(t.node,a.id)},t.framePlay=function(e,a,n){e.stopPropagation(),t.props.rahmen.frame_play(a,n)},t.goblack=function(){t.props.history.goBack()},t.showControl=function(){t.control_visible=!0},t.handleCancel=function(){t.control_visible=!1},t.boxRef=w.a.createRef(),t.state={init:!1,sel_visible:!1,user_visible:!1,menuDisplayId:null,infoObj:{}},t}return Object(j.a)(a,e),Object(y.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,n,l,i,s,c,r,m=this;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,e=this.props.match.params.id,a=this.props.rahmen.urlData,t=a.name,n=a.bindtime,l=a.is_admin,i=a.serial,this.node=Number(e),t){o.next=16;break}return o.next=7,b.a.awrap(Object(I.b)("frame_list",null));case 7:s=o.sent,-1===(c=s.findIndex((function(a){return a.node===Number(e)})))&&this.props.history.push("/rahmen"),this.name=s[c].name,this.bindtime=s[c].bindtime,this.is_admin=s[c].is_admin,this.serial=s[c].serial,o.next=20;break;case 16:this.name=t,this.bindtime=n,this.is_admin=l,this.serial=i;case 20:r=function(){return m.setState({init:!0})},this.props.rahmen.rahmen_playlist_init(this.node,r,this.boxRef.current.offsetWidth),this.is_admin&&this.props.rahmen.get_user_list(this.node),window.addEventListener("resize",this.getWH),document.addEventListener("click",this.hide),o.next=30;break;case 27:o.prev=27,o.t0=o.catch(0),this.props.history.push("/rahmen");case 30:case"end":return o.stop()}}),null,this,[[0,27]])}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hide),window.removeEventListener("resize",this.getWH),this.props.rahmen.reset0()}},{key:"render",value:function(){var e=this,a=this.props.t,t=this.state,n=t.init,l=t.sel_visible,i=t.user_visible,s=t.menuDisplayId,c=this.node,r=this.name,m=this.bindtime,o=this.is_admin,d=this.control_visible,p=this.props.rahmen,f=p.playList,b=p.sumPhoto,E=p.telecontrol;return w.a.createElement("div",{className:"rahmendetails"},w.a.createElement("div",{className:"Rahmendetails-header"},w.a.createElement(B.a,{go:this.goblack,name:r}),w.a.createElement("div",{className:"Rahmendetails-information"},w.a.createElement("div",{className:"Rahmendetails-addphoto-btn"},w.a.createElement("button",{onClick:this.selectedlist},a("SelecList"))),w.a.createElement("div",{className:"file-num"},w.a.createElement("div",{className:"Rahmendetails-h-icon"},w.a.createElement("i",{className:"iconfont icon"},"\ue933")),w.a.createElement("div",{className:"num-text"},w.a.createElement("p",{className:"text"},a("playlist")),w.a.createElement("p",{className:"num"},n?f.length:0))),w.a.createElement("div",{className:"file-num"},w.a.createElement("div",{className:"Rahmendetails-h-icon"},w.a.createElement(h.a,{type:"file-image"})),w.a.createElement("div",{className:"num-text"},w.a.createElement("p",{className:"text"},a("Photo")),w.a.createElement("p",{className:"num"},b))),w.a.createElement("div",{className:"creation-time"},w.a.createElement("div",{className:"Rahmendetails-h-icon"},w.a.createElement("i",{className:"iconfont icon"},"\ue932")),w.a.createElement("div",{className:"num-text"},w.a.createElement("p",{className:"text"},"SN"),w.a.createElement("p",{className:"num"},this.serial&&Object(R.r)(this.serial)))),w.a.createElement("div",{className:"creation-time"},w.a.createElement("div",{className:"Rahmendetails-h-icon"},w.a.createElement(h.a,{type:"clock-circle"})),w.a.createElement("div",{className:"num-text"},w.a.createElement("p",{className:"text"},a("bindingTime")),w.a.createElement("p",{className:"num"},A()(m).format(a("LL"))))),w.a.createElement("div",{className:"rahmen-operation"},o&&w.a.createElement("div",{className:"rahmen-tool",onClick:this.showControl},w.a.createElement("i",{className:"iconfont icon"},"\ue783")),o&&w.a.createElement("div",{className:"rahmen-user",onClick:function(){e.setState({user_visible:!0})}},w.a.createElement(h.a,{type:"team"}))))),w.a.createElement("div",{ref:this.boxRef,className:"Rahmendetails-main"},function(t){return n?t.length>0?t.map((function(t){return w.a.createElement("div",{key:t.id,className:"list",style:{width:t.w,height:t.h}},w.a.createElement("div",{className:"rahmenplaylist"},w.a.createElement("div",{className:"rahmenplaylist-top-img"},w.a.createElement("div",{className:"img1"},t.profile?w.a.createElement("img",{alt:t.profile.key,src:R.h.file_s(t.profile.id)}):null),w.a.createElement("div",{className:"img2-4"},w.a.createElement("span",{className:"img2"},t.profile_1?w.a.createElement("img",{alt:t.profile_1.key,src:R.h.file_s(t.profile_1.id)}):null),w.a.createElement("span",{className:"img3"},t.profile_2?w.a.createElement("img",{alt:t.profile_2.key,src:R.h.file_s(t.profile_2.id)}):null),w.a.createElement("span",{className:"img4"},t.profile_3?w.a.createElement("img",{alt:t.profile_3.key,src:R.h.file_s(t.profile_3.id)}):null))),w.a.createElement("div",{className:"rahmenplaylist-information"},w.a.createElement("div",{className:"rahmenplaylist-i-top"},w.a.createElement("p",{className:"rahmenplaylist-name clearfix"},w.a.createElement("span",{className:"rahmenplays-name"},t.name),w.a.createElement(u.a,{title:a("playtoframe"),overlayClassName:"tooltip"},w.a.createElement("span",{className:"frame-play",onClick:function(a){e.framePlay(a,c,t.id)}},w.a.createElement(h.a,{type:"play-square",theme:"filled"})))),w.a.createElement("p",{className:"update-time"},w.a.createElement("span",{className:"LastUpdate"},a("LastUpdate"),"\uff1a",A()(t.updated).format(a("L"))),w.a.createElement("span",{className:"isdefault",style:t.isdefault?null:{visibility:"hidden"}},a("default")))),w.a.createElement("div",{className:"rahmenplaylist-i-bottom"},w.a.createElement("div",{className:"photo-num"},w.a.createElement("p",{className:"num1"},t.filecount?t.filecount:0),w.a.createElement("p",{className:"text1"},a("photo"))),w.a.createElement("div",{className:"more"},w.a.createElement("span",{onClick:function(a){e.more_show(a,t.id)}},w.a.createElement(h.a,{type:"ellipsis"})),w.a.createElement("div",{className:"rename",style:s===t.id?{display:"block"}:{}},w.a.createElement("ul",null,w.a.createElement("li",{onClick:function(a){e.delete(a,t)}},w.a.createElement("span",null,w.a.createElement(h.a,{type:"delete",theme:"filled"}),a("delete"))),w.a.createElement("li",{className:"set-default",onClick:function(a){e.set_default(a,c,t.id)}},w.a.createElement("span",null,w.a.createElement(h.a,{style:Object(H.h)(t,"isdefault")?null:{visibility:"hidden"},type:"check"}),a("SetDefaultPlaylist"))))))))))})):w.a.createElement(z.a,null):w.a.createElement(D.a,null)}(f)),l?w.a.createElement(P,{node:c,cancel:this.selectedlistHide}):null,i?w.a.createElement(V,{node:c,cancel:this.frameuserHide}):null,w.a.createElement(q,{visible:d,onCancel:this.handleCancel,controlBtn:this.controlBtn,click:E,node:this.node}))}}]),a}(w.a.Component),r=Object(g.a)(c.prototype,"node",[H.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=Object(g.a)(c.prototype,"name",[H.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=Object(g.a)(c.prototype,"serial",[H.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=Object(g.a)(c.prototype,"control_visible",[H.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(g.a)(c.prototype,"controlBtn",[H.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{id:1,class:"close"},{id:2,class:"return"},{id:3,class:"family"},{id:4,class:"top"},{id:5,class:"bottom"},{id:6,class:"left"},{id:7,class:"right"},{id:8,class:"middle"},{id:9,class:"pic"},{id:10,class:"mute"},{id:11,class:"menu"}]}}),s=c))||s)||s)||s;a.default=T}}]);
//# sourceMappingURL=10.ad7f9917.chunk.js.map